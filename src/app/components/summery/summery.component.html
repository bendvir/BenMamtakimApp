<app-menu></app-menu>
<div *ngIf="!success">
<div class="col-md-12 grid-container">
    <span class="grid-title col-md-12">住 拽转 砖</span>
  </div>
  <div class="top-cart">
    <div class="add-cart">
        <p>
              专  住 拽转 专 砖 转拽 转拽.
          </p>   
          <p>
           转 专转 转 爪专 砖专转, 住专,砖转 注...         
          注 注  专砖 爪 爪 注 驻转专 砖转转.
      </p>
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
          专  转拽 转拽
      </button>
  </div>
  </div>
  
        
<div class="container">
    <div class="row contnet-page">
        <div class="col-sm-8 col-12">
            <div class="row label-title">
                <div class="col-sm-2 col-2 mobile-coloumn">
                    <div class="item-th">

                    </div>
                </div>
                <div class="col-sm-3 col-3 mobile-coloumn">
                    <div class="item-th">
                        <div>
                            砖 爪专
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 col-2 mobile-coloumn">
                    <div class="item-th">
                        <div>
                            转
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 col-2 mobile-coloumn">
                        <div class="item-th">
                            <div>
                                专 '\专
                            </div>
                        </div>
                    </div>
                <div class="col-sm-2 col-2 mobile-coloumn">
                    <div class="item-th">
                        <div>
                             住"
                        </div>
                    </div>
                </div>               
                <div class="col-sm-1 col-1 mobile-coloumn">
                    <div class="item-th">
                        <div>
                            拽
                        </div>
                    </div>
                </div>
            </div>

                <div class="product-item row" *ngFor="let prod of producBasketList; let i = index">
                    <div class="col-sm-2 col-2 mobile-coloumn">
                        <img class="fixedImg" align="middle" src="/assets/{{prod.subCategoryPic}}/{{prod.link}}" />
                        <img class="ChatImg" align="left" src="/assets/dafAbait/premarks.ico" />
                    </div>
                    <div class="col-sm-3 col-3 ">
                        <div class="item-colum">                            
                            <div class="item-row item-row-pad">{{prod.title}}</div>
                        </div>
                    </div>
                    <div class="col-sm-2 col-2" *ngIf="prod.priceType==1">
                        <div class="item-colum">
                            <div>
                                <!-- {{prod.amount}} '    -->
                                <select (change)="changeAmount(i, $event)" [(ngModel)]="prod.amount">
                                    <option *ngFor="let unit of Units" value="{{unit}}">{{unit}} '</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2 col-2" *ngIf="prod.priceType==0">
                        <div class="item-colum">
                            <div>
                                <!-- {{prod.amount}} 专 -->
                                <select class="item-colum-unit" (change)="changeAmount(i, $event)" [(ngModel)]="prod.amount">
                                    <option *ngFor="let kilo of Kiograms" value="{{kilo}}">{{kilo}} 专</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2 col-2">
                            <div class="item-colum">
                                <div>
                                 {{prod.price}} 砖"
                                </div>
                            </div>
                        </div>
                    <div class="col-sm-2 col-2">
                        <div class="item-colum">
                            <div>
                                {{calculatefinalPrice(prod)}} 砖"
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-1 col-1">
                        <div class="item-colum">
                            <div>
                                <div>
                                    <div>
                                        <button class="close" (click)="removeProductFromBasket(i, prod)">&times;</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

          
        </div>
        <div class="col-sm-4 col-12 position-rel">
            <div class="sticky">
                <!-- Button to Open the Modal -->
            <div class="border-summery">
                <div class="summery-items">
                    住"  爪专 砖专: {{finalPrice}} 砖"
                </div>
                <div *ngIf="!noPick" class="change-city">
                    <select [(ngModel)]="CityDefault" (change)="changeCity($event)">
                        <option *ngFor="let city of Cities; let i = index" value="{{i}}">{{city}}</option>
                    </select>
                </div>
                <div *ngIf="!noPick" class="summery-items">
                    <span *ngIf="isCityPriceAdded">
                        <div>
                            砖: {{TaxDeleviry}} 砖"
                        </div>
                        住" 专 砖: {{finalPrice+TaxDeleviry}} 砖"
                    </span>
                    <span *ngIf="!isCityPriceAdded">
                        住" 专 砖: {{finalPrice}} 砖"
                    </span>

                </div> 
                <div class="coming-take">
                    <input #noDelivery [(ngModel)]="noPick" class="bold-item" (click)="deliveryItem()" type="checkbox" data-toggle="toggle">住祝 注爪                
                    <div *ngIf="noPick">
                          住" 专 住祝 注爪: {{finalPrice}} 砖"                         
                  </div>
                </div>                              
            </div>                                                     
                <!-- <div>
                    <h3> 拽 爪?</h3>
                </div> -->
                <div class="alert alert-danger" *ngIf="errorMsg">
                        注  驻转 砖  驻
                     </div>
                     <div class="alert alert-danger" *ngIf="noPickUpSelect">
                            注 专 住祝 注爪  砖
                         </div>
                <form>
                        <div class="form-group">
                          <!-- input for full name + validation -->
                          <input
                          required 
                          name="fullName"
                          [(ngModel)] ="fullName"
                          #fullNameValid="ngModel" 
                          minlength="3" 
                          maxlength="30" 
                          id="fullName" 
                          type="text" 
                          placeholder="砖 "
                          class="form-control"
                          pattern="(^[A-Za-z])|(\s)([A-Za-z])|([-转])|(\s)">
                          <div class="alert alert-danger" *ngIf="fullNameValid.touched && !fullNameValid.valid">  砖 
                            <div *ngIf="fullNameValid.errors.minlength">  驻转 {{fullNameValid.errors.minlength.requiredLength}} 转</div>
                            <div *ngIf="fullNameValid.errors.pattern">  住驻专</div>
                          </div>
                        </div>
                            <!-- input for phone Number + validation -->
                        <div class="form-group">
                        <input 
                        required 
                        name="phoneNumber" 
                        [(ngModel)]="phoneNumber"
                        #phoneNumberValid="ngModel" 
                        type="text" 
                        maxlength="10" 
                        placeholder="驻"
                        minlength="9"
                        maxlength="10"
                        pattern="[0-9]*"
                        class="form-control"> 
                        <div class="alert alert-danger" *ngIf ="phoneNumberValid.touched && !phoneNumberValid.valid">  住驻专 驻 转拽
                          <div *ngIf= "phoneNumberValid.errors.minlength">砖  驻转 {{phoneNumberValid.errors.minlength.requiredLength}} 住驻专转  转</div>
                        </div>
                      </div>
                          <!-- input for address + validation -->
                          <div class="form-group">
                            <input
                            required 
                            name="address"
                            [(ngModel)] ="address"
                            #addressValid="ngModel" 
                            minlength="3" 
                            maxlength="30" 
                            id="address" 
                            type="text" 
                            placeholder="转转 "
                            class="form-control"
                            pattern="(^[A-Za-z])|(\s)([A-Za-z])|([-转])|(\s)">
                            <div class="alert alert-danger" *ngIf="addressValid.touched && !addressValid.valid">  转转 拽转                               
                              </div>
                          </div>
                       <!-- input for email + validation -->
                        <div class="form-group">
                          <input 
                          type="text"       
                          [(ngModel)]="emailUser"
                          #emailUserValid = "ngModel"      
                          name="email"
                          placeholder="name@example.com ( )"
                          pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                          class="form-control"> 
                             <div class="alert alert-danger" *ngIf ="emailUserValid.touched && !emailUserValid.valid">  转 驻专          
                               <!-- <div *ngIf ="emailUserValid.errors?.required">   </div> -->
                            </div>    
                         </div>
                         <!-- message text box + validation -->
                        <div class="form-group">
                          <textarea  
                          rows="5" 
                          minlength="1" 
                          maxlength="300" 
                          [(ngModel)]="message"
                          name="message"
                          placeholder="注专"  
                          class="form-control">
                         </textarea>
                        </div>
                        <div>
                          <re-captcha (resolved)="resolved($event)" siteKey="6LdudEgUAAAAAP4FSYlE8Dx5CmT1Wh9OXrWz-chK"></re-captcha>
                        </div>
                        <!-- Send button + active sendMail function -->
                        <div>
                          <button 
                          type="button" 
                          class="btn btn-success btn-margin" 
                          (click)="sendMail()">
                          砖 
                          </button>                         
                          <div *ngIf="gifWaiting">
                            <img class="gif-icon" alt="" src="/assets/dafAbait/Wating.gif">
                          </div>
                        </div> 
                      </form>
                      
                <!-- <img class="fixedImg" align="middle" src="/assets/dafAbait/add.ico" /> -->
                <!-- <app-info></app-info> -->
            </div>
        </div>
    </div>
</div>
</div>
 <!-- The Modal -->
 <div class="modal fade" id="myModal">
        <div class="asd modal-dialog">
            <div class="modal-content">
    
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4>专  转拽 转拽</h4>
    
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
    
                <!-- Modal body -->
                <div class="modal-body">
                    <p>
                        爪 转拽 转拽    拽.
                    </p>
                    <p>
                          爪 砖 专 转 专 拽转  (砖   砖  住祝 注爪)
                    </p>
                    <p>
                        注转 专转 住祝 注爪 砖 住 转 砖 "住祝 注爪",  转 砖专 砖转  爪 注 砖 . 专 拽转  爪 注专转  爪专 拽砖专 注  住祝 .
                    </p>
                    <p>
                        注转 砖, 砖 专 转 砖 "专 注专 砖"  转 砖专 砖转  爪 注 砖 . 专 拽转  爪 注专转  爪专 注 拽砖专 拽转 住驻专
                        专住 砖专 爪注 转 注住拽.
                    </p>
                    <p>
                         砖 驻 砖 驻砖专转 爪专 注 拽砖专 专 砖转 "爪专 拽砖专"
                         转拽砖专 住驻专 053-722-7501.
                    </p>
                </div>
    
                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
    
            </div>
        </div>
    </div>

    <div class="container" *ngIf="success">
        <div class="grid-container">
          <span class="grid-title">转 拽!</span>
        </div>
        <div class="sucsess">
            <p>
                转 , 转 "转拽 转拽" 拽 !
                专  拽 驻砖专 
            </p>
        </div>
      
      </div>